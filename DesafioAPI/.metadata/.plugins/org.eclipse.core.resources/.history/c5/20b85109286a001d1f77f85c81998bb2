package com.gft.services;

import java.util.Optional;

import javax.persistence.EntityNotFoundException;

import org.springframework.stereotype.Service;

import com.gft.entities.Etiqueta;
import com.gft.repositories.EtiquetaRepository;

@Service
public class EtiquetaService {


	private final EtiquetaRepository etiquetaRepository;

	public EtiquetaService(EtiquetaRepository etiquetaRepository) {
		this.etiquetaRepository = etiquetaRepository;
	}
	
	public Etiqueta salvarEtiqueta(Etiqueta etiqueta) {
			
			return etiquetaRepository.save(etiqueta);
		}
	
	public Optional<Etiqueta> listarTodasEtiquetas(String etiquetas){
		
		return etiquetaRepository.findAll(etiquetas);
	}
	
	public Etiqueta buscarEtiqueta(Long id) {
		Optional<Etiqueta> optional= etiquetaRepository.findById(id);
		
		return optional.orElseThrow(() -> new EntityNotFoundException("Etiqueta n√£o encontrado."));
	}
	
	public Etiqueta atualizarEtiqueta(Etiqueta etiqueta, Long id) {
		
		Etiqueta etiquetaOriginal = this.buscarEtiqueta(id);
		
		etiqueta.setId(etiquetaOriginal.getId());
		
		return etiquetaRepository.save(etiqueta);
	}
	
	public void excluirEtiqueta(Long id) {
		
		Etiqueta etiquetaOriginal = this.buscarEtiqueta(id); 
		etiquetaRepository.delete(etiquetaOriginal);
		
	}
}